{"version":3,"sources":["http/index.js","http/userAPI.js","components/User.jsx","pages/AdminPage.jsx","utils/consts.js","pages/MyPage.jsx","pages/Auth.jsx","routes.js","components/AppRouter.jsx","components/NavBar.jsx","App.jsx","store/UserStore.js","index.jsx"],"names":["$host","axios","create","baseURL","$authHost","interceptors","request","use","config","headers","authorization","concat","localStorage","getItem","registration","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","name","email","password","today","date","_yield$$host$post","data","wrap","_context","prev","next","Date","getFullYear","getMonth","getDate","post","dataRegistration","dateLastAuthorization","status","sent","setItem","token","abrupt","jwt_decode","stop","_x","_x2","_x3","apply","this","arguments","login","_ref2","_callee2","_yield$$host$post2","_context2","_x4","_x5","check","_ref3","_callee3","_yield$$authHost$get","_context3","get","fetchUsers","_ref4","_callee4","_yield$$authHost$get2","_context4","updateUserStatus","_ref5","_callee5","users","_yield$$authHost$put","_context5","put","_x6","_x7","deleteUser","_ref6","_callee6","_yield$$authHost$dele","_context6","delete","_x8","User","user","usersStorage","useContext","Context","react_default","createElement","scope","type","className","checked","selected","id","onChange","setSelected","dateregistration","datelastauthorization","AdminPage","observer","navigate","useNavigate","_useState","useState","_useState2","slicedToArray","isMarkedAll","setIsMarkedAll","isSelectedAll","_users","filter","length","useEffect","then","setUsers","changeStatus","currentUser","console","log","checkedUsers","isCurrentUser","find","setStatus","setIsAuth","Container","Row","Button","variant","onClick","onDeleteUser","Table","setSelectedAll","map","User_User","MyPage","Auth","location","useLocation","isLogin","pathname","setEmail","_useState3","_useState4","setName","_useState5","_useState6","setPassword","click","setUser","t0","alert","response","message","style","height","window","innerHeight","Card","width","Form","Control","placeholder","value","e","target","react_router_dom","to","authRoutes","path","Component","publicRoutes","AppRouter","react_router","isAuth","key","element","exact","NavBar","Navbar","bg","Nav","color","App","loading","setLoading","finally","Spinner","animation","components_NavBar","components_AppRouter","UserStore","classCallCheck","_isAuth","_user","makeAutoObservable","bool","objectSpread2","sort","__webpack_require__","d","__webpack_exports__","createContext","ReactDOM","render","Provider","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3e7031f5.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst $host = axios.create({\r\n  baseURL: 'https://enigmatic-wildwood-39578.herokuapp.com/'\r\n})\r\n\r\nconst $authHost = axios.create({\r\n  baseURL:'https://enigmatic-wildwood-39578.herokuapp.com/'\r\n})\r\n\r\nconst authInterceptor = config => {\r\n  config.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n  return config\r\n}\r\n\r\n$authHost.interceptors.request.use(authInterceptor)\r\n\r\nexport {\r\n  $host,\r\n  $authHost\r\n}","import {$host, $authHost} from \"./index\";\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport const registration = async (name, email, password) => {\r\n  var today = new Date(),\r\n    date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n  const {data} = await $host.post('api/user/registration', {name, email, password, dataRegistration: date, dateLastAuthorization: date, status: 'unblock'})\r\n  localStorage.setItem('token', data.token)\r\n  return jwt_decode(data.token)\r\n}\r\n\r\nexport const login = async (email, password) => {\r\n  const {data} = await $host.post('api/user/login', {email, password})\r\n  localStorage.setItem('token', data.token)\r\n  return jwt_decode(data.token)\r\n}\r\n\r\nexport const check = async () => {\r\n  const {data} = await $authHost.get('api/user/auth')\r\n  localStorage.setItem('token', data.token)\r\n  return jwt_decode(data.token)\r\n}\r\n\r\nexport const fetchUsers = async () => {\r\n  const {data} = await $authHost.get('api/user/users')\r\n  return data\r\n}\r\n\r\nexport const updateUserStatus = async (users, status) => {\r\n  const {data} = await $authHost.put('api/user/status', {status, users})\r\n  return data\r\n}\r\n\r\nexport const deleteUser = async (users) => {\r\n  const {data} = await $authHost.delete('api/user/user', {users})\r\n  return data\r\n}\r\n","import React, {useContext} from \"react\";\r\nimport {Context} from \"../index\";\r\n\r\nexport const User = ({user}) => {\r\n\r\n  const {user: usersStorage} = useContext(Context)\r\n\r\n  return (\r\n  <tr>\r\n  <th scope=\"col\">\r\n    <input\r\n      type=\"checkbox\"\r\n      className=\"form-check-input\"\r\n      checked={user.selected}\r\n      id={user.id}\r\n      onChange={() => usersStorage.setSelected(user.id)}\r\n    />\r\n  </th>\r\n  <td>{user.id}</td>\r\n  <td>{user.name}</td>\r\n  <td>{user.email}</td>\r\n  <td>{user.dateregistration}</td>\r\n  <td>{user.datelastauthorization}</td>\r\n  <td>{user.status}</td>\r\n</tr>\r\n)\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Container} from \"react-bootstrap\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Context} from \"../index\";\r\nimport {fetchUsers, updateUserStatus, deleteUser} from \"../http/userAPI\";\r\nimport {User} from \"../components/User\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nconst AdminPage = observer(() => {\r\n  const {user} = useContext(Context)\r\n  const navigate = useNavigate()\r\n  const [isMarkedAll, setIsMarkedAll] = useState(false)\r\n  const isSelectedAll = user._users.filter(user => user.selected).length === user._users.length\r\n\r\n  useEffect(() => {\r\n    fetchUsers().then(data => user.setUsers(data))\r\n  }, [])\r\n\r\n  const onDeleteUser = () => {\r\n    const checkedUsers = user._users.filter(user => user.selected)\r\n    deleteUser(checkedUsers).then(data => user.setUsers(data))\r\n  }\r\n\r\n  const changeStatus = (status) => {\r\n    const currentUser = jwt_decode(localStorage.token)\r\n    console.log(currentUser.status)\r\n    const checkedUsers = user._users.filter(user => user.selected)\r\n    const isCurrentUser = checkedUsers.find(user => user.id === currentUser.id)\r\n    updateUserStatus(checkedUsers, status).then(() => user.setStatus(status))\r\n    if (isCurrentUser) {\r\n      user.setIsAuth(false)\r\n      navigate(LOGIN_ROUTE)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className='d-flex flex-column align-items-center mb-2'>\r\n      <Row><h2 className='m-auto'>Task #3</h2></Row>\r\n      <Row className='d-flex flex-row'>\r\n        <Button variant={'outline-success'} onClick={() => changeStatus('block')}>Block</Button>\r\n        <Button variant={'outline-success'} onClick={() => changeStatus('unBlock')}>Unblock</Button>\r\n        <Button variant={'outline-success'} onClick={() => onDeleteUser()}>Delete</Button>\r\n      </Row>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <Table>\r\n            <thead>\r\n            <tr>\r\n              <th scope=\"col\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={isSelectedAll}\r\n                  className=\"form-check-input\"\r\n                  id=\"mastercheck\"\r\n                  onChange={() => {\r\n                    setIsMarkedAll(!isMarkedAll)\r\n                    user.setSelectedAll(isMarkedAll)\r\n                  }}\r\n                />\r\n              </th>\r\n              <th>Id</th>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Data registration</th>\r\n              <th>Data last authorisation</th>\r\n              <th>Status</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {user._users.map(user =>\r\n              <User user={user} />\r\n            )}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n\r\n\r\nexport default AdminPage;","export const ADMIN_ROUTE = '/admin';\r\nexport const MY_PAGE = '/myPage'\r\nexport const LOGIN_ROUTE = '/login';\r\nexport const REGISTRATION_ROUTE = '/registration';","import React from 'react';\r\n\r\nconst MyPage = () => {\r\n  return (\r\n    <div>\r\n      MyPage\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPage;","import React, {useContext, useState} from 'react';\r\nimport {Card, Container, Form} from \"react-bootstrap\";\r\nimport {ADMIN_ROUTE, LOGIN_ROUTE, REGISTRATION_ROUTE} from \"../utils/consts\";\r\nimport {NavLink, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {login, registration} from \"../http/userAPI\";\r\nimport {Context} from \"../index\";\r\nimport {observer} from \"mobx-react-lite\";\r\n\r\nconst Auth = observer( () => {\r\n  const {user} = useContext(Context)\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n  const isLogin = location.pathname === LOGIN_ROUTE\r\n  const [email, setEmail] = useState('')\r\n  const [name, setName] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const click = async () => {\r\n    var today = new Date(),\r\n      date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();\r\n    try {\r\n      let data;\r\n      if (isLogin) {\r\n        data = await login(email,password);\r\n      } else {\r\n        data = await registration(name, email, password);\r\n      }\r\n      user.setUser(user)\r\n      user.setIsAuth(true)\r\n      navigate(ADMIN_ROUTE)\r\n    } catch (e) {\r\n      alert (e.response.data.message)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className='d-flex justify-content-center align-items-center'\r\n               style={{height: window.innerHeight - 54}}>\r\n      <Card style={{width: 600}} className=\"p-5\">\r\n        <h2 className='m-auto'>{isLogin ? 'Authorisation' : 'Registration'}</h2>\r\n        <Form className='d-flex flex-column'>\r\n          {!isLogin ?\r\n            <Form.Control\r\n              className='mt-2'\r\n              placeholder='Enter your name'\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n            />\r\n            :\r\n            null\r\n          }\r\n          <Form.Control\r\n            className='mt-2'\r\n            placeholder='Enter your email'\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n          />\r\n          <Form.Control\r\n            className='mt-2'\r\n            placeholder='Enter your password'\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n            type='password'\r\n          />\r\n          <Row className='d-flex justify-content-between mt-3 pl-5 pr-5'>\r\n            {isLogin ?\r\n              <div>\r\n                No account? <NavLink to={REGISTRATION_ROUTE}>Sign up</NavLink>\r\n              </div>\r\n              :\r\n              <div>\r\n                Have an account? <NavLink to={LOGIN_ROUTE}>Log in</NavLink>\r\n              </div>\r\n            }\r\n            <Button\r\n              variant={\"outline-success\"}\r\n              onClick={click}\r\n            >\r\n              {isLogin ? 'Log in' : 'Registration'}\r\n              </Button>\r\n          </Row>\r\n        </Form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n});\r\n\r\nexport default Auth;","import AdminPage from \"./pages/AdminPage\";\r\nimport {ADMIN_ROUTE, LOGIN_ROUTE, MY_PAGE, REGISTRATION_ROUTE} from \"./utils/consts\";\r\nimport MyPage from \"./pages/MyPage\";\r\nimport Auth from \"./pages/Auth\";\r\n\r\nexport const authRoutes = [\r\n  {\r\n    path: ADMIN_ROUTE,\r\n    Component: AdminPage\r\n  },\r\n  {\r\n    path: MY_PAGE,\r\n    Component: MyPage\r\n  }\r\n]\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: REGISTRATION_ROUTE,\r\n    Component: Auth\r\n  },\r\n  {\r\n    path: LOGIN_ROUTE,\r\n    Component: Auth\r\n  }\r\n]","import React, {useContext} from 'react';\r\nimport {Route, Routes} from 'react-router-dom';\r\nimport {authRoutes, publicRoutes} from \"../routes\";\r\nimport {Context} from \"../index\";\r\n\r\nconst AppRouter = () => {\r\n  const {user} = useContext(Context);\r\n  return (\r\n    <Routes>\r\n      {user.isAuth && authRoutes.map(({path, Component}) =>\r\n        <Route key={path} path={path} element={<Component/>} exact/>\r\n      )}\r\n      {publicRoutes.map(({path, Component}) =>\r\n        <Route key={path} path={path} element={<Component/>} exact/>\r\n      )}\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default AppRouter;","import React, {useContext} from 'react';\r\nimport {Context} from \"../index\";\r\nimport {Container, Nav, Navbar} from \"react-bootstrap\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {ADMIN_ROUTE, LOGIN_ROUTE} from \"../utils/consts\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {observer} from \"mobx-react-lite\";\r\n\r\n\r\nconst NavBar = observer(() => {\r\n\r\n  const {user} = useContext(Context)\r\n  const navigate = useNavigate()\r\n\r\n  const logOut = () => {\r\n    user.setUser({})\r\n    user.setIsAuth(false)\r\n    navigate(LOGIN_ROUTE)\r\n  }\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n      <Container>\r\n        {user.isAuth ?\r\n          <Nav className=\"m-auto\" style={{color: 'white'}}>\r\n            <Button variant={'outline-light'} onClick={() => navigate(ADMIN_ROUTE)}>Admin Panel</Button>\r\n            <Button variant={'outline-light'} onClick={() => logOut()} >Log out</Button>\r\n          </Nav>\r\n          :\r\n          <Nav className=\"m-auto\" style={{color: 'white'}}>\r\n            <Button variant={'outline-light'} onClick={() =>  navigate(LOGIN_ROUTE)}>Authorization</Button>\r\n          </Nav>\r\n        }\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n})\r\n\r\nexport default NavBar;","import React, {useContext, useEffect, useState} from 'react';\nimport AppRouter from \"./components/AppRouter\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport NavBar from \"./components/NavBar\";\nimport {observer} from \"mobx-react-lite\";\nimport {Context} from \"./index\";\nimport {check} from \"./http/userAPI\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst App = observer( () => {\n  const {user} = useContext(Context)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n      check().then(data => {\n        user.setUser(true)\n        user.setIsAuth(true)\n      }).finally (() => setLoading (false))\n  }, [])\n\n  if (loading) {\n    return <Spinner animation={'grow'} />\n  }\n\n  return (\n    <BrowserRouter>\n      <NavBar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n});\n\nexport default App;\n","import {makeAutoObservable} from \"mobx\";\r\n\r\nexport default class UserStore {\r\n  constructor() {\r\n    this._isAuth = false\r\n    this._user = {}\r\n    this._users = []\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  setIsAuth(bool) {\r\n    this._isAuth = bool\r\n  }\r\n\r\n  setUser(user) {\r\n    this._user = user\r\n  }\r\n\r\n  setUsers(users) {\r\n    this._users = users.map(user => ({...user, selected: false})).sort()\r\n  }\r\n\r\n  setStatus(status){\r\n    this._users = this._users.map(user => user.selected ? ({...user, status}) : user)\r\n  }\r\n\r\n  setSelected (id) {\r\n    this._users = this._users.map(user => user.id === id ? ({...user, selected: !user.selected}) : user)\r\n  }\r\n\r\n  setSelectedAll (selected) {\r\n    this._users = this._users.map(user =>  ({...user, selected}))\r\n  }\r\n\r\n  get isAuth() {\r\n    return this._isAuth\r\n  }\r\n\r\n  get user() {\r\n    return this._user\r\n  }\r\n\r\n  getUsers() {\r\n    return this._users\r\n  }\r\n\r\n  getStatus(user) {\r\n    return this._user\r\n  }\r\n}","import React, {createContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport UserStore from \"./store/UserStore\";\n\nexport const Context = createContext(null)\n\nReactDOM.render(\n  <Context.Provider value={{\n    user: new UserStore()\n  }}>\n    <App />\n  </Context.Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}